import React, {Component} from 'react';
import {AppRegistry, Text, View, StyleSheet, TouchableHighlight, TextInput, Alert} from 'react-native';
import {StackNavigator} from 'react-navigation';
import HomeScreen from './HomeScreen';

 class LoginScreen extends Component{
    constructor(props){
      super(props);
      this.state = {
        username: '',
      }
    }
    static defaultProps = {
      message: 'Hey there'
    }

    static navigationOptions = {
      header: null,
  };
  UserRegister = () =>{


   const { username }  = this.state ;



  fetch('http://www.quotin.co/React/user-register.php', {
    method: 'POST',
    headers: {
      'Accept': 'application/json',
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({

      username: username,

    })

  }).then((response) => response.json())
        .then((responseJson) => {

  // Showing response message coming from server after inserting records.
          Alert.alert(responseJson);

        }).catch((error) => {
          console.error(error);
        });


    }
    render(){
      return(
        <View style={{backgroundColor: '#fff',  flexDirection:'column',  flex: 1, justifyContent:'center', alignItems: 'center'}}>
          <View style={{ height: 200, justifyContent:'space-between',}}>
          <Text style={{color: 'black', textAlign: 'center', }}>
            This is the LoginScreen!
          </Text>
          <TextInput
          onChangeText={username => this.setState({username})}
          placeholder="Enter Username"
          >

          </TextInput>
          <TouchableHighlight
          style={{backgroundColor: '#333', height: 50, width: 100, justifyContent:'center', alignItems: 'center', marginLeft: 25}}
          onPress={this.UserRegister}
          >
            <Text style={{color: 'white', textAlign: 'center',}}>Register</Text>
          </TouchableHighlight>

          <TouchableHighlight
          style={{backgroundColor: '#333', height: 50, width: 100, justifyContent:'center', alignItems: 'center', marginLeft: 25}}
          onPress={() => this.props.navigation.navigate('HomeScreen')}
          >
            <Text style={{color: 'white', textAlign: 'center',}}>Back</Text>
          </TouchableHighlight>
          </View>
        </View>
      );
    }
}
const AppStackNav = StackNavigator ({
  LoginScreen: {screen: LoginScreen},
  HomeScreen: {screen: HomeScreen}
})

const newTextStyle = {
  fontSize: 30,
  color: 'white',
  textAlign: 'center',
}
export default LoginScreen;
AppRegistry.registerComponent('LoginScreen', () => LoginScreen);





<?php
// Creating connection.
 $con = mysqli_connect("gator4159.hostgator.com", "mriquotin", "ea2v,eSOc7gb", "mriquoti_user");
 
 // Getting the received JSON into $json variable.
 $json = file_get_contents('php://input');
 
 // decoding the received JSON and store into $obj variable.
 $obj = json_decode($json,true);
 
 // Populate User name from JSON $obj array and store into $name.
 $username = $obj['username'];
 
// Populate User email from JSON $obj array and store into $email.
//$email = $obj['email'];
 
// Populate Password from JSON $obj array and store into $password.
//$password = $obj['password'];

//Checking Email is already exist or not using SQL query.
$CheckSQL = "SELECT * FROM testuser WHERE username='$username'";

// Executing SQL Query.
$check = mysqli_fetch_array(mysqli_query($con,$CheckSQL));


if(isset($check)){

 $EmailExistMSG = 'Username Already Exist, Please Try Again !!!';
 
 // Converting the message into JSON format.
$EmailExistJson = json_encode($EmailExistMSG);
 
// Echo the message.
 echo $EmailExistJson ; 

 }
 else{
 
 // Creating SQL query and insert the record into MySQL database table.
$Sql_Query = "insert into testuser (username) values ('$username')";
 
 
 if(mysqli_query($con,$Sql_Query)){
 
 // If the record inserted successfully then show the message.
$MSG = 'User Registered Successfully' ;
 
// Converting the message into JSON format.
$json = json_encode($MSG);
 
// Echo the message.
 echo $json ;
 
 }
 else{
 
 echo 'Try Again';
 
 }
 }
 mysqli_close($con);
?>